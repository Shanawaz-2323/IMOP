IOMP Alumni Portal: Route & Function Documentation
This file provides a detailed explanation of the backend logic in login.py.

1. Page Rendering Routes (GET Requests)
These functions are responsible for serving the HTML templates to the user's browser.

home() (/): The entry point. It serves homepage.html. This is usually the first page a user sees before logging in.

login_page() (/login_page): Serves the loginpage.html file. It contains the form where users enter their username and password.

register_page() (/register): Serves the registrationpage.html file, allowing new alumni to create an account.

dashboard_view() (/dashboard): A protected route. It first checks if 'user' exists in the session. If yes, it shows dashboard.html and passes the username to the page. If not, it redirects the user to the login page.

alumni_directory() (/directory): Restricted to logged-in users. It connects to alumni.db, selects all names and roll numbers, and displays them in a list format on directory.html.

career_center() (/career): Serves the career.html template. Like the dashboard, it is protected by a session check.

2. Form Handling & Logic Routes (POST Requests)
These routes process the data sent by users via forms.

verify_credentials() (/verify): This is the "Brain" of the login process.

It collects the username and password from the form.

It queries the database for a matching record.

If found: It creates a session (cookie) for the user and sends them to the dashboard.

If not found: It returns an error message.

process_register() (/process_register): Handles new user sign-ups with two layers of validation:

Regex Validation: It uses the pattern ^23UK1A05(0[1-9]|[1-6][0-9]|70)$ to ensure the Roll Number belongs specifically to the allowed range (01 to 70).

Database Integrity: It attempts to insert the data. If the Roll Number or Username already exists, it catches a sqlite3.IntegrityError to prevent duplicates.

logout() (/logout): Removes the 'user' key from the session dictionary, effectively "forgetting" the user and redirecting them to the home page.

3. Communication & Messaging Routes
These manage the chat system between alumni.

chat_room(receiver) (/chat/<receiver>): Initializes a chat session with a specific person. It fetches every message where the logged-in user was either the sender or the receiver, sorted by time, so the conversation history appears correctly.

send_message(receiver) (/send_message/<receiver>): A standard HTTP POST route used to save a message. This acts as a backup to the WebSocket system to ensure messages are stored in the messages table.

4. Real-Time Socket Events (WebSockets)
These handle instant, "no-refresh" communication using flask_socketio.

on_join(data): When a user opens a chat, this function places them into a specific "Room." This ensures that messages sent to "User A" don't accidentally show up in "User B's" chat window.

handle_message(data): The real-time engine. When a user types a message and hits enter:

It receives the message data.

It saves the message to the SQLite database so it isn't lost.

It immediately "emits" (broadcasts) the message to everyone currently in that specific chat room.

5. System Initialization
init_db(): This is a helper function called only when the script starts. It ensures the database file (alumni.db) and the necessary tables (users and messages) exist before the app starts handling web traffic.
